!sum
# Float <-> Int conversions
# TODO: this right now only has Float32 -> Int32|Uint32, more to add.
- go: ConvertToInt32
  asm: "VCVTTPS2DQ"
  in:
  - &fp
    go: $t
    base: float
  out:
  - &i32
    go: $u
    base: int
    elemBits: 32
- go: ConvertToUint32
  asm: "VCVTPS2UDQ"
  in:
  - *fp
  out:
  - &u32
    go: $u
    base: uint
    elemBits: 32

# Uint -> Uint widening conversions.
# TODO: this right now only has uint8 -> uint16 and uint16->uint32.
- go: ConvertToUint16
  asm: "VPMOVZXBW"
  in:
  - &u8x16
    base: uint
    elemBits: 8
    bits: 128
  out:
  - &u16x16
    base: uint
    elemBits: 16
    bits: 256

- go: ConvertToUint16
  asm: "VPMOVZXBW"
  in:
  - &u8x32
    base: uint
    elemBits: 8
    bits: 256
  out:
  - &u16x32
    base: uint
    elemBits: 16
    bits: 512

- go: ConvertToUint32
  asm: "VPMOVZXWD"
  in:
  - &u16x8
    base: uint
    elemBits: 16
    bits: 128
  out:
  - &u32x8
    base: uint
    elemBits: 32
    bits: 256

- go: ConvertToUint32
  asm: "VPMOVZXWD"
  in:
  - *u16x16
  out:
  - &u32x16
    base: uint
    elemBits: 32
    bits: 512

# Truncating conversions.
# TODO: this right now only has uint8->uint16 and uint16->uint32.
- go: ConvertToUint16x8
  asm: "VPMOVZXBW"
  in:
  - *u8x16
  out:
  - *u16x8
- go: ConvertToUint32x4
  asm: "VPMOVZXWD"
  in:
  - *u16x8
  out:
  - &u32x4
    base: uint
    elemBits: 32
    bits: 128